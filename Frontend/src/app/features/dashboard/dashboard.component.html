<div class="dashboard-container">
  <div *ngIf="loading" class="loading">
    <mat-spinner></mat-spinner>
    <p>Loading statistics...</p>
  </div>

  <div *ngIf="error" class="error">
    <mat-icon>error</mat-icon>
    <p>{{ error }}</p>
  </div>

  <!-- Admin Dashboard -->
  <div *ngIf="statistics?.adminStats" class="admin-dashboard">
    <h2>Platform Overview</h2>
    <div class="stats-cards">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Total Users</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.adminStats.totalUsers }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Total Volunteers</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.adminStats.totalVolunteers }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Total Organizations</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.adminStats.totalOrganizations }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Total Events</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.adminStats.totalEvents }}</div>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="charts-container">
      <div class="chart">
        <canvas id="userGrowth"></canvas>
      </div>
      <div class="chart">
        <canvas id="eventsByCategory"></canvas>
      </div>
      <div class="chart">
        <canvas id="volunteersByLocation"></canvas>
      </div>
    </div>
  </div>

  <!-- Organization Dashboard -->
  <div *ngIf="statistics?.organizationStats" class="organization-dashboard">
    <h2>Organization Overview</h2>
    <div class="stats-cards">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Total Events</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.organizationStats.totalEvents }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Active Events</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.organizationStats.activeEvents }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Total Volunteers</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.organizationStats.totalVolunteers }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Success Rate</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.organizationStats.eventSuccessRate | number:'1.0-1' }}%</div>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="charts-container">
      <div class="chart">
        <canvas id="eventTrends"></canvas>
      </div>
      <div class="chart">
        <canvas id="volunteerTrends"></canvas>
      </div>
      <div class="chart">
        <canvas id="eventsByCategory"></canvas>
      </div>
      <div class="chart">
        <canvas id="volunteersBySkill"></canvas>
      </div>
    </div>
  </div>

  <!-- Volunteer Dashboard -->
  <div *ngIf="statistics?.volunteerStats" class="volunteer-dashboard">
    <h2>Volunteer Overview</h2>
    <div class="stats-cards">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Total Events</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.volunteerStats.totalEventsParticipated }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Total Hours</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.volunteerStats.totalVolunteerHours }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Reliability Score</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.volunteerStats.reliabilityScore | number:'1.0-1' }}%</div>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>People Impacted</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{ statistics.volunteerStats.peopleImpacted }}</div>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="charts-container">
      <div class="chart">
        <canvas id="hoursContributed"></canvas>
      </div>
      <div class="chart">
        <canvas id="eventsParticipation"></canvas>
      </div>
      <div class="chart">
        <canvas id="eventsByCategory"></canvas>
      </div>
      <div class="chart">
        <canvas id="impactByCategory"></canvas>
      </div>
    </div>
  </div>
</div> 