<div class="profile-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Organization Profile</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
        <div class="form-grid">
          <!-- Basic Information -->
          <div class="form-section">
            <h3>Basic Information</h3>
            <mat-form-field appearance="outline">
              <mat-label>Organization Name</mat-label>
              <input matInput formControlName="name" required />
              <mat-error *ngIf="profileForm.get('name')?.hasError('required')">
                Organization name is required
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Organization Type</mat-label>
              <mat-select formControlName="type" required>
                <mat-option value="NGO">NGO</mat-option>
                <mat-option value="CHARITY">Charity</mat-option>
                <mat-option value="FOUNDATION">Foundation</mat-option>
                <mat-option value="SOCIAL_ENTERPRISE"
                  >Social Enterprise</mat-option
                >
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Description</mat-label>
              <textarea
                matInput
                formControlName="description"
                rows="4"
                required
              ></textarea>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Mission Statement</mat-label>
              <textarea
                matInput
                formControlName="missionStatement"
                rows="3"
                required
              ></textarea>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Vision</mat-label>
              <textarea matInput formControlName="vision" rows="3"></textarea>
            </mat-form-field>
          </div>

          <!-- Contact Information -->
          <div class="form-section">
            <h3>Contact Information</h3>
            <mat-form-field appearance="outline">
              <mat-label>Email</mat-label>
              <input matInput type="email" formControlName="email" required />
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Phone Number</mat-label>
              <input matInput formControlName="phoneNumber" required />
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Website</mat-label>
              <input matInput formControlName="website" />
            </mat-form-field>
          </div>

          <!-- Location -->
          <div class="form-section">
            <h3>Location</h3>
            <mat-form-field appearance="outline">
              <mat-label>Address</mat-label>
              <input matInput formControlName="address" required />
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>City</mat-label>
              <input matInput formControlName="city" required />
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Country</mat-label>
              <input matInput formControlName="country" required />
            </mat-form-field>
          </div>

          <!-- Focus Areas -->
          <div class="form-section">
            <h3>Focus Areas</h3>
            <mat-form-field appearance="outline">
              <mat-label>Focus Areas</mat-label>
              <mat-select formControlName="focusAreas" multiple required>
                <mat-option
                  *ngFor="let area of focusAreaOptions"
                  [value]="area.value"
                >
                  {{ area.label }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <!-- Social Media -->
          <div class="form-section">
            <h3>Social Media</h3>
            <div formGroupName="socialMedia">
              <mat-form-field appearance="outline">
                <mat-label>Facebook</mat-label>
                <input matInput formControlName="facebook" />
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Twitter</mat-label>
                <input matInput formControlName="twitter" />
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>LinkedIn</mat-label>
                <input matInput formControlName="linkedin" />
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Instagram</mat-label>
                <input matInput formControlName="instagram" />
              </mat-form-field>
            </div>
          </div>
        </div>

        <!-- Statistics -->
        <div class="statistics-section" *ngIf="statistics">
          <h3>Organization Statistics</h3>
          <div class="stats-grid">
            <mat-card class="stat-card">
              <mat-card-content>
                <div class="stat-value">{{ statistics.totalEventsHosted }}</div>
                <div class="stat-label">Events Hosted</div>
              </mat-card-content>
            </mat-card>

            <mat-card class="stat-card">
              <mat-card-content>
                <div class="stat-value">{{ statistics.totalVolunteers }}</div>
                <div class="stat-label">Total Volunteers</div>
              </mat-card-content>
            </mat-card>

            <mat-card class="stat-card">
              <mat-card-content>
                <div class="stat-value">
                  {{ statistics.averageRating | number : "1.1-1" }}
                </div>
                <div class="stat-label">Average Rating</div>
              </mat-card-content>
            </mat-card>

            <mat-card class="stat-card">
              <mat-card-content>
                <div class="stat-value">{{ statistics.impactScore }}</div>
                <div class="stat-label">Impact Score</div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>

        <!-- Error Message -->
        <div *ngIf="error" class="error-message">
          {{ error }}
        </div>

        <div class="form-actions">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="!profileForm.valid || loading"
          >
            <mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
            <span>Save Changes</span>
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
